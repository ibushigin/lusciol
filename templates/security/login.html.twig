{% extends 'base-navbar.html.twig' %}


{% block stylesheets %}
    {{ parent() }}
    <link rel="stylesheet" type="text/css" href="{{ asset('css/baseNavbarPages.css') }}">
{% endblock %}


{% block title %}Lusciol - Se connecter ou s'enregistrer{% endblock %}

    {% block body %}
        <div class="container-fluid ContentFullSize">
            <div class="col-12 mx-auto flashDiv">
                {% for label, messages in app.flashes %}
                    {% for message in messages %}
                        <div class="alert alert-{{ label }} text-center">{{ message}}</div>
                    {% endfor %}
                {% endfor %}
            </div>
            <div class="row pt-5">
                <div class="col-12 col-md-4 mx-auto">
                    <h1 class="mainTitle h1 font-weight-bold text-center text-white">Connexion :</h1><br>
                    <form method="post">
                        {# Formulaire #}
                        <label for="inputEmail" class="sr-only">Email : </label>
                        <input type="email" value="{{ last_username }}" name="email" id="inputEmail" class="form-control font-italic" placeholder="Email : " required autofocus><br>

                        <label for="inputPassword" class="sr-only">Password : </label>
                        <input type="password" name="password" id="inputPassword" class="form-control font-italic" placeholder="Password : " required>
                        <input type="hidden" name="_csrf_token" value="{{ csrf_token('authenticate') }}">
                        {#TODO STYLE CHECKBOX#}
                        <div class="checkbox mb-3">
                            <input type="checkbox" name="_remember_me" ><span class="text-white">Remember me</span>
                        </div>
                        <br>
                        <div class="col-12 col-md-8 mx-auto my-auto">
                            <button class="btn btn-light btn-block" type="submit">Connexion</button><br>
                        </div>
                        <div id="MDPLOST" class="text-center font-italic">
                            <a href="{{ path('app_forgotten_password') }}">Mot de passe oublié ?</a>
                        </div>
                    </form>
                </div>
                <div class=" form-group col-12 col-md-4 mx-auto">
                    <h1 class="h1 font-weight-bold text-center text-white" id="LOGINPolice2">S'enregistrer :</h1><br>

                    {{ form_start(registrationForm,
                        {"action": path('app_register')} ) }}
                    {{ form_row(registrationForm.username, {'label': false,'attr': {'class': 'form-control font-italic', 'placeholder': 'Pseudo : '}}) }}
                    {{ form_row(registrationForm.email, {'label': false,'attr': {'class': 'form-control font-italic', 'placeholder': 'Email : '}}) }}
                    {{ form_row(registrationForm.tel, {'label': false,'attr': {'class': 'form-control font-italic', 'placeholder': 'Téléphone : '}}) }}
                    {{ form_row(registrationForm.avatar, {'label': false,}) }}
                    {{ form_row(registrationForm.plainPassword, {'label': false, 'attr': {'class': 'form-control font-italic', 'placeholder': 'Mot de passe : '}}) }}

                    <div class=" form-group col-12 col-md-8 mx-auto my-auto">
                        <button class="btn btn-light btn-block">S'enregistrer</button>
                        {{ form_end(registrationForm) }}
                    </div>
                </div>
            </div>
        </div>
        <img class="DEMILOGO d-none d-lg-block" src="{{ asset("img/fond3.png") }}" alt="LUEUR">

    {% endblock %}

{% block javascripts %}
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="{{ asset('js/bootstrap.min.js') }}"></script>
    <script src="{{ asset('js/baseNavbarPages.js') }}"></script>
    {#JS Pour Leaflet#}
    <script src="https://unpkg.com/leaflet@1.4.0/dist/leaflet.js"
            integrity="sha512-QVftwZFqvtRNi0ZyCtsznlKSWOStnDORoefr1enyq5mVL4tmKB3S/EnC3rRJcxCPavG10IcrVGSmPh6Qw5lwrg=="
            crossorigin=""></script>
{% endblock %}
